"use strict";(self.webpackChunkthis=self.webpackChunkthis||[]).push([[186],{186:function(e,t,n){n.r(t);var a=n(4165),r=n(5861),s=n(4942),i=n(1413),c=n(885),l=n(2791),o=n(9140),d=n(7689),u=n(9085),x=n(8898),h=n(6725),p=n(6536),m=n(9492),g=n(488),f=n(1289),j=n(7263),v=n(8564),b=n(184);t.default=function(){var e=(0,d.s0)(),t=(0,x.G)().getUserProfile_c,n=(0,l.useState)(t()),Z=(0,c.Z)(n,2),y=Z[0],D=(Z[1],(0,l.useState)(!1)),N=(0,c.Z)(D,2),S=N[0],w=N[1],k=(0,l.useState)([{}]),C=(0,c.Z)(k,2),_=C[0],L=C[1],R=(0,l.useState)(""),A=(0,c.Z)(R,2),E=A[0],F=A[1],G=(0,l.useState)({startingDate:null,endingDate:null,city_id:null}),I=(0,c.Z)(G,2),q=I[0],z=I[1],P=new Date,U="".concat(P.getFullYear(),"-").concat(String(P.getMonth()+1).padStart(2,"0"),"-").concat(String(P.getDate()).padStart(2,"0"));(0,p.Z)("Frequency Reports"),(0,l.useEffect)((function(){var t;Object.keys(y).length&&(null===(t=y.role)||void 0===t?void 0:t.toLowerCase().trim())!==h.t.USER?function(){M.apply(this,arguments)}():e("/")}),[]);var Y=function(e){z((0,i.Z)((0,i.Z)({},q),{},(0,s.Z)({},e.target.name,e.target.value)))};function M(){return(M=(0,r.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,(0,m.z)({_pageNo:0,_count:999});case 4:t=e.sent,L(t.data.cities),w(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),u.Am.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var O=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q.startingDate||q.endingDate||(u.Am.info("Please select atleast one date"),0)){e.next=2;break}return e.abrupt("return");case 2:return w(!0),e.next=5,(0,g.Np)(q);case 5:if(!((t=e.sent).status>=400)){e.next=10;break}return u.Am.error(t.message.message),w(!1),e.abrupt("return");case 10:return e.next=12,(0,f.Yi)({data:t.data,center:E});case 12:w(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,b.jsxs)(j.xc,{title:"Frequency Reports",isLoading:S,children:[(0,b.jsxs)("div",{className:"row",children:[(0,b.jsxs)("div",{className:"col-6",children:[(0,b.jsx)("h5",{children:"Starting Date"}),(0,b.jsx)("input",{type:"date",name:"startingDate",className:"form-control",value:q.startingDate||"",max:q.endingDate||U,onChange:Y,disabled:S})]}),(0,b.jsxs)("div",{className:"col-6",children:[(0,b.jsx)("h5",{children:"Ending Date"}),(0,b.jsx)("input",{type:"date",name:"endingDate",className:"form-control",value:q.endingDate||"",max:U,min:q.startingDate||"",onChange:Y,disabled:S})]})]}),(0,b.jsx)("div",{className:"row mt-5",children:(0,b.jsxs)("div",{className:"col-6",children:[(0,b.jsxs)("h5",{children:["Center  ",(0,b.jsx)("i",{style:{fontWeight:"normal"},children:"(optional)"})]}),(0,b.jsxs)("select",{className:"form-control",name:"city_id",onChange:function(e){Y(e),F(e.target.options[e.target.selectedIndex].text.toLocaleLowerCase().includes("select center")?"":e.target.options[e.target.selectedIndex].text)},disabled:S,children:[(0,b.jsx)("option",{value:"",children:"Select Center"}),_.map((function(e,t){return(0,b.jsx)("option",{value:e.id,children:e.name},t)}))]})]})}),(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),v.t.map((function(e,t){return(0,b.jsxs)("div",{children:[(0,b.jsx)(o.Z,{className:"border-1",children:(0,b.jsxs)(o.Z.Text,{children:[(0,b.jsxs)("b",{children:[(0,b.jsxs)("span",{style:{fontSize:"1.1rem"},children:[" ",e.heading," "]})," -- Includes ",">"," "]}),"  ",e.reportColumns.join(", ")]})}),(0,b.jsx)("br",{})]},t)})),(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),(0,b.jsx)("div",{className:"row",children:(0,b.jsx)("div",{className:"col-12",children:(0,b.jsxs)("button",{className:"btn btn-primary float-end",type:"button",onClick:O,disabled:S,children:[" ",S?"Generating ...":"Generate Report"]})})})]})}}}]);
//# sourceMappingURL=186.3312d90a.chunk.js.map