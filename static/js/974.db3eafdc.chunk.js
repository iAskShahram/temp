"use strict";(self.webpackChunkthis=self.webpackChunkthis||[]).push([[974],{974:function(s,e,r){r.r(e);var a=r(4165),n=r(5861),t=r(4942),o=r(1413),i=r(885),c=r(2791),l=r(8799),d=r(7689),m=r(1087),u=r(7022),f=r(9085),p=r(1885),w=r.n(p),x=r(3073),b=r(6536),h=r(184);e.default=function(){var s=(0,d.s0)(),e=(0,c.useRef)(new(w())),r=(0,m.lr)(),p=(0,i.Z)(r,2),g=p[0],v=(p[1],g.get("token")),N=(0,c.useState)({password:"",confirmPassword:""}),j=(0,i.Z)(N,2),k=j[0],Z=j[1];function P(s){var r=s.target,a=r.name,n=r.value;e.current.showMessageFor(a),Z((function(s){return(0,o.Z)((0,o.Z)({},s),{},(0,t.Z)({},a,n))}))}e.current.rules.containsAlphaAndNumber={message:"The :attribute must contain at least one letter and one number",rule:function(s){var e=/[a-zA-Z]/.test(s),r=/\d/.test(s);return e&&r}},(0,c.useEffect)((function(){v||s("/login")}),[]),(0,b.Z)("Reset Password");var y=function(){var r=(0,n.Z)((0,a.Z)().mark((function r(n){return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.preventDefault(),!e.current.allValid()){r.next=11;break}if(k.password===k.confirmPassword){r.next=4;break}return r.abrupt("return",f.Am.warning("Passwords do not match"));case 4:if(v){r.next=8;break}return f.Am.warning("Invalid token"),s("/login"),r.abrupt("return");case 8:A(),r.next=12;break;case 11:e.current.showMessages();case 12:case"end":return r.stop()}}),r)})));return function(s){return r.apply(this,arguments)}}();function A(){return C.apply(this,arguments)}function C(){return(C=(0,n.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.$P)({password:k.password,token:v});case 2:200===(r=e.sent).status?(f.Am.success(r.data.message),setTimeout((function(){s("/login")}),600)):f.Am.error(r.message.message);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,h.jsxs)("div",{className:"row m-0",children:[(0,h.jsxs)(u.Z,{className:"col-11",children:[(0,h.jsx)("div",{className:"d-flex flex-center flex-column flex-column-fluid pt-20",children:(0,h.jsx)(m.rU,{to:"/login",className:"mb-12",children:(0,h.jsx)("img",{alt:"brand-logo",src:l,className:"h-40px"})})}),(0,h.jsx)("div",{className:"w-lg-500px bg-body card rounded shadow-sm p-10 p-lg-15 mx-auto",children:(0,h.jsxs)("form",{onSubmit:y,className:"form w-100",noValidate:"noValidate",id:"kt_password_reset_form",children:[(0,h.jsx)("div",{className:"text-center mb-10",children:(0,h.jsx)("h1",{className:"text-dark mb-3",children:"Reset Password"})}),(0,h.jsx)("div",{className:"text-gray-600 fw-bold fs-4",children:"New password."}),(0,h.jsxs)("div",{className:"fv-row mb-10",children:[(0,h.jsx)("input",{className:"form-control form-control-solid",type:"password",name:"password",autoComplete:"off",value:k.password,onChange:P}),e.current.message("password",k.password,"required|min:8|containsAlphaAndNumber",{message:"password is required",className:"text-danger"})]}),(0,h.jsx)("div",{className:"text-gray-600 fw-bold fs-4",children:"Confirm password."}),(0,h.jsxs)("div",{className:"fv-row mb-10",children:[(0,h.jsx)("input",{className:"form-control form-control-solid",type:"password",name:"confirmPassword",autoComplete:"off",value:k.confirmPassword,onChange:P}),e.current.message("confirmPassword",k.confirmPassword,"required|min:8|in:".concat(k.password),{messages:{in:"passwords do not match"},className:"text-danger"})]}),(0,h.jsx)("div",{className:"d-flex flex-wrap pb-lg-0",children:(0,h.jsxs)("button",{type:"submit",id:"kt_password_reset_submit",className:"btn btn-lg btn-primary fw-bolder me-4",children:[(0,h.jsx)("span",{className:"indicator-label",children:"Submit"}),(0,h.jsxs)("span",{className:"indicator-progress",children:["Please wait...",(0,h.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-2"})]})]})})]})})]}),(0,h.jsx)(f.Ix,{})]})}},8799:function(s,e,r){s.exports=r.p+"static/media/logo-1.5fb564d48ff52bb059f7.png"}}]);
//# sourceMappingURL=974.db3eafdc.chunk.js.map