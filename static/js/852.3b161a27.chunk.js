"use strict";(self.webpackChunkthis=self.webpackChunkthis||[]).push([[852],{2852:function(e,s,a){a.r(s);var r=a(4165),l=a(5861),n=a(4942),c=a(1413),t=a(885),o=a(2791),i=a(7689),m=a(1087),d=a(1885),u=a.n(d),x=a(9085),f=a(7022),h=a(8799),p=a(3073),g=a(6536),N=a(8898),j=a(6725),w=a(184);s.default=function(){var e=(0,o.useRef)(new(u())),s=(0,i.s0)(),a=(0,o.useState)("password"),d=(0,t.Z)(a,2),b=d[0],v=d[1],k=(0,o.useState)({email:"",password:"",role:""}),S=(0,t.Z)(k,2),y=S[0],A=S[1],C=(0,N.G)(),_=C.loginUser_c,I=C.getIsLoggedIn_c,R=C.checkIsLoggedIn_c,E=C.logoutUser_c,Z=I();function L(s){var a=s.target,r=a.name,l=a.value;e.current.showMessageFor(r),A((function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,n.Z)({},r,l))}))}function T(){return(T=(0,l.Z)((0,r.Z)().mark((function e(){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.pH)(y);case 2:200===(a=e.sent).status?(_(a.data),s("/")):a.status>=400&&x.Am.warn(a.message.message);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(s){s.preventDefault(),e.current.allValid()?function(){T.apply(this,arguments)}():(e.current.showMessages(),x.Am.warn("Some Required Fields are Missing"))}return(0,g.Z)("Login"),(0,o.useEffect)((function(){Z?s("/"):E(),!1===R()&&E()}),[]),(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"row m-0",children:[(0,w.jsxs)(f.Z,{className:"col-11",children:[(0,w.jsx)("div",{className:"d-flex flex-center flex-column flex-column-fluid pt-20",children:(0,w.jsx)(m.rU,{to:"/login",className:"mb-12",children:(0,w.jsx)("img",{alt:"brand-logo",src:h,className:"h-40px"})})}),(0,w.jsx)("div",{className:"w-lg-500px bg-body rounded shadow-sm p-10 p-lg-15 mx-auto",children:(0,w.jsxs)("form",{className:"form w-100",noValidate:"novalidate",id:"kt_sign_in_form",onSubmit:function(e){return q(e)},children:[(0,w.jsx)("div",{className:"text-center mb-10",children:(0,w.jsx)("h1",{className:"text-dark mb-3",children:"Sign In"})}),(0,w.jsx)("div",{className:"fv-row mb-10",children:(0,w.jsxs)("div",{className:"row mb-7",children:[(0,w.jsx)("label",{className:"col-2 form-label fs-6 fw-bolder text-dark text-center my-auto",children:"Email"}),(0,w.jsxs)("div",{className:"col-9",children:[(0,w.jsx)("input",{className:"form-control form-control-lg form-control-solid",type:"email",name:"email",onChange:L,value:y.email,placeholder:"hello@example.com"}),e.current.message("email",y.email,"required|email",{message:"email is required",className:"text-danger"})]})]})}),(0,w.jsx)("div",{className:"fv-row mb-10",children:(0,w.jsxs)("div",{className:"row mb-7",children:[(0,w.jsx)("label",{className:"col-2 form-label fs-6 fw-bolder text-dark text-center my-auto",children:"Password"}),(0,w.jsxs)("div",{className:"col-9",children:[(0,w.jsxs)("div",{className:"input-group",children:[(0,w.jsx)("input",{id:"password",className:"form-control form-control-lg form-control-solid",type:b,name:"password",onChange:L,value:y.password,placeholder:"password"}),(0,w.jsx)("span",{className:"input-group-text border-0",onClick:function(){return v("password"===b?"text":"password")},style:{cursor:"pointer"},children:"password"===b?(0,w.jsx)("i",{className:"far fa-eye-slash"}):(0,w.jsx)("i",{className:"far fa-eye"})})]}),e.current.message("password",y.password,"required|min:4",{message:"password is required",className:"text-danger"})]})]})}),(0,w.jsx)("div",{className:"float-right ",children:(0,w.jsx)(m.rU,{to:"/forgot-password",className:" link-primary fw-bolder",children:"Forget Password ?"})}),(0,w.jsxs)("div",{className:"row ",children:[(0,w.jsxs)("div",{className:" pb-6 form-check form-check-custom form-check-success col-12",children:[(0,w.jsx)("h6",{className:"pe-2",children:"Login as: "}),(0,w.jsx)("input",{className:"form-check-input mx-1",type:"radio",value:j.t.ADMIN,name:"role",checked:y.role===j.t.ADMIN,onChange:L}),(0,w.jsx)("label",{children:j.t.RESEARCH_ASSISTANT}),(0,w.jsx)("input",{className:"form-check-input ms-8 me-1",type:"radio",value:j.t.USER,name:"role",checked:y.role===j.t.USER,onChange:L}),(0,w.jsx)("label",{children:j.t.DATA_COLLECTOR})]}),e.current.message("role",y.role,"required",{message:"Role is required",className:"text-danger"})]}),(0,w.jsx)("div",{className:"text-center",children:(0,w.jsx)("button",{type:"submit",id:"kt_sign_in_submit",className:"btn btn-lg btn-primary w-100 mb-5",children:(0,w.jsx)("span",{className:"indicator-label",children:"Login"})})})]})})]}),(0,w.jsx)("div",{className:"d-flex flex-center flex-column-auto p-10"}),(0,w.jsx)(x.Ix,{})]})})}},6725:function(e,s,a){a.d(s,{t:function(){return r}});var r={ADMIN:"admin",USER:"user",RESEARCH_ASSISTANT:"Principal Investigator",DATA_COLLECTOR:"Data Collector"}},8799:function(e,s,a){e.exports=a.p+"static/media/logo-1.5fb564d48ff52bb059f7.png"}}]);
//# sourceMappingURL=852.3b161a27.chunk.js.map