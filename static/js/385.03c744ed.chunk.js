"use strict";(self.webpackChunkthis=self.webpackChunkthis||[]).push([[385],{7510:function(t,e,n){n.r(e),n.d(e,{default:function(){return w}});var r=n(3360),a=n(1087),i=n(6536),s=n(7263),o=n(1413),c=n(4165),u=n(5861),d=n(885),l=n(2791),p=n(3513),f=n(5181),m=(n(3568),n(8185)),v=n(7689),g=n(9085),h=n(5142),x=n(4434),_=n(184),y=function(){var t=[{name:"Patient ID",selector:function(t){return t.id},cellExport:function(t){return t.id},cell:function(t){return t.id||""},wrap:!0,center:!0},{name:"Name",selector:function(t){return t.name},cellExport:function(t){return t.name},cell:function(t){return t.name||""},wrap:!0,center:!0},{name:"CNIC",selector:function(t){var e,n,r;return null===(e=t.demographic[0])||void 0===e||null===(n=e.demo_section_answer)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.answer_text},cellExport:function(t){var e,n,r;return null===(e=t.demographic[0])||void 0===e||null===(n=e.demo_section_answer)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.answer_text},cell:function(t){var e,n,r;return(null===(e=t.demographic[0])||void 0===e||null===(n=e.demo_section_answer)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.answer_text)||""},wrap:!0,center:!0},{name:"DoB",selector:function(t){var e;return null===(e=t.demographic[0])||void 0===e?void 0:e.dob},cellExport:function(t){var e;return null===(e=t.demographic[0])||void 0===e?void 0:e.dob},cell:function(t){var e,n;return(null===(e=t.demographic[0])||void 0===e||null===(n=e.dob)||void 0===n?void 0:n.split("T")[0])||""},wrap:!0,center:!0},{name:"Created By",selector:function(t){var e;return null===(e=t.created_by)||void 0===e?void 0:e.name},cellExport:function(t){var e;return null===(e=t.created_by)||void 0===e?void 0:e.name},cell:function(t){var e;return(null===(e=t.created_by)||void 0===e?void 0:e.name)||""},wrap:!0,center:!0},{name:"Created At",selector:function(t){return t.created_at},cellExport:function(t){return t.created_at},cell:function(t){var e,n,r;return((null===(e=t.created_at)||void 0===e?void 0:e.split("T")[0])||"")+" "+((null===(n=t.created_at)||void 0===n||null===(r=n.split("T")[1])||void 0===r?void 0:r.split(".")[0])||"")},wrap:!0,center:!0},{name:"Action",sortable:!1,cell:function(t){return(0,_.jsxs)("div",{className:"btn-group",children:[(0,_.jsx)("button",{onClick:function(){return(e=t.id)?A("/edit-form-demo-patient",{state:{id:e}}):g.Am.error("No ID Found");var e},className:"btn btn-primary btn-sm",type:"button",name:"options",id:"option1",children:(0,_.jsx)(m.HlX,{})}),(0,_.jsx)("button",{onClick:function(){return function(t){return L.apply(this,arguments)}(t.id)},className:"btn btn-danger btn-sm",type:"button",name:"options",id:"option2",children:(0,_.jsx)(m.dnY,{})})]})}}],e=(0,l.useState)(!1),n=(0,d.Z)(e,2),r=n[0],a=n[1],i=(0,l.useState)([]),s=(0,d.Z)(i,2),y=s[0],Z=s[1],w=(0,l.useState)(1),b=(0,d.Z)(w,2),C=b[0],j=b[1],S=(0,l.useState)(10),N=(0,d.Z)(S,2),Q=N[0],D=N[1],F=(0,l.useState)(0),P=(0,d.Z)(F,2),E=P[0],k=P[1],A=(0,v.s0)(),I={columns:t,data:y};(0,l.useEffect)((function(){T()}),[C,Q]);var T=function(){var t=(0,u.Z)((0,c.Z)().mark((function t(){var e,n,r;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!0),t.prev=1,t.next=4,(0,h.sT)({_pageNo:C,_count:Q});case 4:r=t.sent,Z((null===(e=r.data)||void 0===e?void 0:e.patients)||[]),k((null===(n=r.data)||void 0===n?void 0:n.total)||0),a(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a(!1);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();function L(){return(L=(0,u.Z)((0,c.Z)().mark((function t(e){var n;return(0,c.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=parseInt(e))&&!isNaN(e)){t.next=3;break}return t.abrupt("return",g.Am.error("No ID Found"));case 3:if(window.confirm("Are you sure you want to delete this form?")){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,(0,h.dI)({id:e});case 8:200===(n=t.sent).status?(g.Am.success("Form Deleted Successfully"),console.log({response:n}),T()):n.status>=400&&g.Am.error("Something went wrong"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),g.Am.error("Something went wrong");case 15:case"end":return t.stop()}}),t,null,[[5,12]])})))).apply(this,arguments)}return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h3",{children:" Latest Filled Forms "}),(0,_.jsx)("div",{className:"card-body border-top p-9",children:(0,_.jsx)(f.Z,(0,o.Z)((0,o.Z)({},I),{},{children:(0,_.jsx)(p.ZP,{columns:t,data:y,noHeader:!0,highlightOnHover:!0,defaultSortField:"id",defaultSortAsc:!0,exportHeaders:!0,progressComponent:(0,_.jsx)(x.Z,{text:" Loading Forms ...",vh100:!1}),progressPending:r,title:"Latest Filled Forms",responsive:!0,pagination:!0,paginationServer:!0,paginationDefaultPage:C,paginationPerPage:Q,paginationTotalRows:E,paginationComponentOptions:{rowsPerPageText:"Rows per page:",rangeSeparatorText:"of",selectAllRowsItem:!0,selectAllRowsItemText:"Show All"},onChangePage:function(t){return j(Number(t))},onChangeRowsPerPage:function(t){return D(Number(t))}})}))})]})},Z=n(8898);var w=function(){return(0,(0,Z.G)().getUserProfile_c)(),(0,i.Z)("Index"),(0,_.jsxs)(s.xc,{title:"Home Page",children:[(0,_.jsx)(s.Uy,{children:(0,_.jsx)(a.rU,{to:"/form",children:(0,_.jsx)(r.Z,{variant:"primary",children:"Continue to Form"})})}),(0,_.jsx)(s.Uy,{styles:{marginTop:"32px"},children:(0,_.jsx)(y,{})})]})}},7263:function(t,e,n){n.d(e,{Uy:function(){return c},xc:function(){return o}});var r=n(4849),a=n(3360),i=n(7689),s=n(184),o=function(t){var e=t.children,n=t.title,o=t.isLoading,c=t.paddingSmall,u=t.resetCookieAndLocalStorage,d=(0,i.s0)();return(0,s.jsxs)("div",{className:"my-8 card ",children:[(0,s.jsxs)("h1",{className:"card-header",children:[(0,s.jsx)("div",{className:"card-title m-0",children:(0,s.jsx)("h3",{className:"fw-bolder m-0",children:n})}),o?(0,s.jsxs)("div",{className:"card-subtitle card-title m-0",children:[(0,s.jsx)(r.Z,{as:"span",animation:"grow",size:"md",role:"status","aria-hidden":"true"}),(0,s.jsx)("p",{className:"m-0",children:"Loading ..."})]}):null,u&&(0,s.jsx)("div",{className:"card-subtitle card-title m-0",children:(0,s.jsx)(a.Z,{variant:"outline-danger",className:"m-0",onClick:function(){window.confirm("Are you sure you want to clear cache?")&&(u(),d("/"))},children:"Clear Form Cache"})})]}),(0,s.jsx)("div",{className:"card-body ".concat(o?"opacity-50":null),style:o?{pointerEvents:"none"}:{},children:(0,s.jsx)("div",{className:"".concat(c?"p-sm-0 px-md-3 px-lg-10":"p-sm-0 px-md-10 px-lg-20"),children:e})})]})},c=function(t){var e=t.children,n=t.styles;return(0,s.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:n,children:(0,s.jsx)("div",{className:"text-center",children:e})})}},5142:function(t,e,n){n.d(e,{dI:function(){return C},s4:function(){return m},xi:function(){return g},QI:function(){return y},yw:function(){return w},c3:function(){return x},sT:function(){return l},vZ:function(){return p},Wl:function(){return v},zS:function(){return Z},LO:function(){return h},o9:function(){return b},YS:function(){return f},HR:function(){return _}});var r=n(4165),a=n(5861),i=n(3144),s=n(5671),o=n(7976),c=(0,i.Z)((function t(){(0,s.Z)(this,t)}));c.getLatestFilledForms=function(t){var e=t._pageNo,n=t._count,r="/api/form/list-latest-filled-forms?_pageNo=".concat(e,"&_count=").concat(n);return o.Z.get(r)},c.getPatientEditForm=function(t){var e=t.id,n="/api/form/get-edit-demo?id=".concat(e,"&type=patient");return o.Z.get(n)},c.updatePatientDemo=function(t){var e=t.dynamicQuestions,n=t.preDefinedQuestions,r=t.demo_id,a=t.patient_id;return o.Z.post("/api/form/update-edit-demo",{dynamicQuestions:e,preDefinedQuestions:n,demo_id:r,patient_id:a,type:"patient"})},c.getCaregiverEditForm=function(t){var e=t.id,n="/api/form/get-edit-demo?id=".concat(e,"&type=caregiver");return o.Z.get(n)},c.updateCaregiverDemo=function(t){var e=t.dynamicQuestions,n=t.preDefinedQuestions,r=t.demo_id,a=t.patient_id;return o.Z.post("/api/form/update-edit-demo",{dynamicQuestions:e,preDefinedQuestions:n,demo_id:r,patient_id:a,type:"caregiver"})},c.getChildEditForm=function(t){var e=t.id,n="/api/form/get-edit-demo?id=".concat(e,"&type=child");return o.Z.get(n)},c.updateChildDemo=function(t){var e=t.dynamicQuestions,n=t.preDefinedQuestions,r=t.demo_id,a=t.patient_id;return o.Z.post("/api/form/update-edit-demo",{dynamicQuestions:e,preDefinedQuestions:n,demo_id:r,patient_id:a,type:"child"})},c.getEditPatientScales=function(t){var e=t.id,n="/api/form/get-edit-scale?id=".concat(e,"&type=patient");return o.Z.get(n)},c.updatePatientScales=function(t){var e=t.patient_id,n=t.scales;return o.Z.post("/api/form/update-edit-scale",{patient_id:e,scales:n,type:"patient"})},c.getEditCaregiverScales=function(t){var e=t.id,n="/api/form/get-edit-scale?id=".concat(e,"&type=caregiver");return o.Z.get(n)},c.updateCaregiverScales=function(t){var e=t.patient_id,n=t.scales;return o.Z.post("/api/form/update-edit-scale",{patient_id:e,scales:n,type:"caregiver"})},c.getEditChildScales=function(t){var e=t.id,n="/api/form/get-edit-scale?id=".concat(e,"&type=child");return o.Z.get(n)},c.updateChildScales=function(t){var e=t.patient_id,n=t.scales;return o.Z.post("/api/form/update-edit-scale",{patient_id:e,scales:n,type:"child"})},c.deleteForm=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,a="/api/form/delete-form?id=".concat(n),t.abrupt("return",o.Z.delete(a));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var u=c,d=n(3984),l=function(t){return u.getLatestFilledForms(t).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,d.Z)(t)}))},p=function(t){return u.getPatientEditForm(t).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,d.Z)(t)}))},f=function(t){var e=t.dynamicQuestions,n=t.preDefinedQuestions,r=t.demo_id,a=t.patient_id;return u.updatePatientDemo({dynamicQuestions:e,preDefinedQuestions:n,demo_id:r,patient_id:a}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,d.Z)(t)}))},m=function(t){return u.getCaregiverEditForm(t).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,d.Z)(t)}))},v=function(t){var e=t.dynamicQuestions,n=t.preDefinedQuestions,r=t.demo_id,a=t.patient_id;return u.updateCaregiverDemo({dynamicQuestions:e,preDefinedQuestions:n,demo_id:r,patient_id:a}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,d.Z)(t)}))},g=function(t){return u.getChildEditForm(t).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,d.Z)(t)}))},h=function(t){var e=t.dynamicQuestions,n=t.preDefinedQuestions,r=t.demo_id,a=t.patient_id;return u.updateChildDemo({dynamicQuestions:e,preDefinedQuestions:n,demo_id:r,patient_id:a}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,d.Z)(t)}))},x=function(t){var e=t.id;return u.getEditPatientScales({id:e}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,d.Z)(t)}))},_=function(t){var e=t.patient_id,n=t.scales;return u.updatePatientScales({patient_id:e,scales:n}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,d.Z)(t)}))},y=function(t){var e=t.id;return u.getEditCaregiverScales({id:e}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return console.log(t),(0,d.Z)(t)}))},Z=function(t){var e=t.patient_id,n=t.scales;return u.updateCaregiverScales({patient_id:e,scales:n}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,d.Z)(t)}))},w=function(t){var e=t.id;return u.getEditChildScales({id:e}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,d.Z)(t)}))},b=function(t){var e=t.patient_id,n=t.scales;return u.updateChildScales({patient_id:e,scales:n}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,d.Z)(t)}))},C=function(t){var e=t.id;return u.deleteForm({id:e}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,d.Z)(t)}))}}}]);
//# sourceMappingURL=385.03c744ed.chunk.js.map