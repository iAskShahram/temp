{"version":3,"file":"static/js/390.09391986.chunk.js","mappings":"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","sources":["component/User/UserList.jsx","helpers/constant.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport DataTable from \"react-data-table-component\";\r\nimport DataTableExtensions from \"react-data-table-component-extensions\";\r\nimport \"react-data-table-component-extensions/dist/index.css\";\r\nimport { listUser, deleteUser } from \"../../store/actions/user.action.js\";\r\nimport { toast } from \"react-toastify\";\r\nimport { BsPencilSquare, BsTrashFill } from \"react-icons/bs\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport Loader from \"../commonComponents/Loader/Loader\";\r\nimport { useTitle } from '../../helpers/custom-hooks.js';\r\nimport { CONSTANTS } from '../../helpers/constant.js';\r\n\r\nconst UserList = () => {\r\n\tconst navigate = useNavigate();\r\n\tconst [isLoading, setisLoading] = useState(false);\r\n\tconst [pageChange, setPageChange] = useState(1);\r\n\tconst [rowsPerPageChange, setRowsPerPageChange] = useState(10);\r\n\tconst [data, setData] = useState([]);\r\n\tconst [totalUsers, setTotalUsers] = useState(0);\r\n\r\n\r\n\tconst columns = [\r\n\t\t{\r\n\t\t\tname: \"Name\",\r\n\t\t\tselector: row => row.name,\r\n\t\t\tcellExport: row => row.name,\r\n\t\t\twrap: true,\r\n\t\t\tcenter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Email\",\r\n\t\t\tselector: row => row.email,\r\n\t\t\tcellExport: row => row.email,\r\n\t\t\twrap: true,\r\n\t\t\tcenter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Role\",\r\n\t\t\tselector: row => row.role,\r\n\t\t\tcellExport: row => row.role,\r\n\t\t\tsortable: true,\r\n\t\t\twrap: true,\r\n\t\t\tcenter: true,\r\n\t\t\tcell: (row) => row.role === CONSTANTS.ADMIN ? CONSTANTS.RESEARCH_ASSISTANT : CONSTANTS.DATA_COLLECTOR,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"CNIC\",\r\n\t\t\tselector: row => row.cnic,\r\n\t\t\tcellExport: row => row.cnic,\r\n\t\t\twrap: true,\r\n\t\t\tcenter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Gender\",\r\n\t\t\tselector: row => row.gender,\r\n\t\t\tcellExport: row => row.gender,\r\n\t\t\tsortable: true,\r\n\t\t\twrap: true,\r\n\t\t\tcenter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Place\",\r\n\t\t\tselector: row => row.city,\r\n\t\t\tcellExport: row => row.city,\r\n\t\t\twrap: true,\r\n\t\t\tcenter: true,\r\n\t\t\tsortable: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Phone\",\r\n\t\t\tselector: row => row.phone,\r\n\t\t\tcellExport: row => row.phone,\r\n\t\t\twrap: true,\r\n\t\t\tcenter: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"DoB\",\r\n\t\t\tselector: row => row.dob,\r\n\t\t\tcellExport: row => row.dob,\r\n\t\t\twrap: true,\r\n\t\t\tcell: (row) => row.dob.split(\"T\")[0],\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: \"Action\",\r\n\t\t\tsortable: false,\r\n\t\t\tcell: (row) => (\r\n\t\t\t\t<div className=\"btn-group\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => _editUser(row.id)}\r\n\t\t\t\t\t\tclassName=\"btn btn-primary btn-sm\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tname=\"options\"\r\n\t\t\t\t\t\tid=\"option1\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<BsPencilSquare />\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonClick={() => _deleteUser(row.id)}\r\n\t\t\t\t\t\tclassName=\"btn btn-danger btn-sm\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tname=\"options\"\r\n\t\t\t\t\t\tid=\"option2\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<BsTrashFill />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\tconst paginationComponentOptions = {\r\n\t\trowsPerPageText: \"Rows per page:\",\r\n\t\trangeSeparatorText: \"of\",\r\n\t\tselectAllRowsItem: true,\r\n\t\tselectAllRowsItemText: \"Show All\",\r\n\t};\r\n\r\n\tconst tableData = {\r\n\t\tcolumns,\r\n\t\tdata,\r\n\t};\r\n\r\n\tuseTitle(\"Users' List\");\r\n\r\n\tuseEffect(() => {\r\n\t\t_listUser();\r\n\t}, [pageChange, rowsPerPageChange]);\r\n\r\n\tasync function _deleteUser(id) {\r\n\t\tconst confirmDelete = window.confirm(\"Are you sure you want to delete this user?\");\r\n\t\tif (!confirmDelete) return;\r\n\r\n\t\tlet response = await deleteUser(Number(id));\r\n\t\tif (response.status === 200) {\r\n\t\t\ttoast.success(\"Deleted Sucessfully\");\r\n\t\t\t_listUser();\r\n\t\t} else if (response.status >= 400) {\r\n\t\t\ttoast.warn(response.message.message);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction _editUser(id) {\r\n\t\tnavigate(\"/update-user\", { state: { id } });\r\n\t}\r\n\r\n\tasync function _listUser() {\r\n\t\tsetisLoading(true);\r\n\t\tlet response = await listUser({\r\n\t\t\t_pageNo: pageChange,\r\n\t\t\t_count: rowsPerPageChange\r\n\t\t});\r\n\t\tsetisLoading(false);\r\n\t\tif (response.status === 200) {\r\n\t\t\tsetData(response.data.users);\r\n\t\t\tsetTotalUsers(response.data?.total);\r\n\t\t} else if (response.status >= 400) {\r\n\t\t\ttoast.warn(\"No Records Found\");\r\n\t\t}\r\n\t}\r\n\r\n\treturn isLoading ? <Loader text=\"loading...\" /> : (\r\n\t\t<div className=\"my-8 card\">\r\n\t\t\t{/* <div className=\"my-8 card container\"> */}\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"card-header border-0 cursor-pointer\"\r\n\t\t\t\trole=\"button\"\r\n\t\t\t\tdata-bs-toggle=\"collapse\"\r\n\t\t\t\tdata-bs-target=\"#kt_account_profile_details\"\r\n\t\t\t\taria-expanded=\"true\"\r\n\t\t\t\taria-controls=\"kt_account_profile_details\"\r\n\t\t\t>\r\n\t\t\t\t<div className=\"card-title m-0\">\r\n\t\t\t\t\t<h3 className=\"fw-bolder m-0\">Users' List</h3>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"card-body border-top p-9\">\r\n\t\t\t\t<DataTableExtensions {...tableData}>\r\n\t\t\t\t\t<DataTable\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\tnoHeader\r\n\t\t\t\t\t\thighlightOnHover\r\n\t\t\t\t\t\tdefaultSortField=\"id\"\r\n\t\t\t\t\t\tdefaultSortAsc={true}\r\n\t\t\t\t\t\texportHeaders={true}\r\n\r\n\t\t\t\t\t\tpagination\r\n\t\t\t\t\t\tpaginationServer\r\n\t\t\t\t\t\tpaginationDefaultPage={pageChange}\r\n\t\t\t\t\t\tpaginationPerPage={rowsPerPageChange}\r\n\t\t\t\t\t\tpaginationTotalRows={totalUsers}\r\n\t\t\t\t\t\tpaginationComponentOptions={paginationComponentOptions}\r\n\r\n\t\t\t\t\t\tonChangePage={(page) => setPageChange(Number(page))}\r\n\t\t\t\t\t\tonChangeRowsPerPage={(row) => setRowsPerPageChange(Number(row))}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DataTableExtensions>\r\n\t\t\t</div>\r\n\t\t\t{/* </div> */}\r\n\t\t</div>\r\n\t);;\r\n};\r\n\r\nexport default UserList;\r\n","export const CONSTANTS = {\r\n\tADMIN: 'admin',\r\n\tUSER: 'user',\r\n\tRESEARCH_ASSISTANT: 'Principal Investigator',\r\n\tDATA_COLLECTOR: 'Data Collector',\r\n};"],"names":["navigate","useNavigate","useState","isLoading","setisLoading","pageChange","setPageChange","rowsPerPageChange","setRowsPerPageChange","data","setData","totalUsers","setTotalUsers","columns","name","selector","row","cellExport","wrap","center","email","role","sortable","cell","CONSTANTS","ADMIN","RESEARCH_ASSISTANT","DATA_COLLECTOR","cnic","gender","city","phone","dob","split","className","onClick","id","state","type","_deleteUser","tableData","window","confirm","deleteUser","Number","response","status","toast","success","_listUser","warn","message","listUser","_pageNo","_count","users","total","useTitle","useEffect","text","noHeader","highlightOnHover","defaultSortField","defaultSortAsc","exportHeaders","pagination","paginationServer","paginationDefaultPage","paginationPerPage","paginationTotalRows","paginationComponentOptions","rowsPerPageText","rangeSeparatorText","selectAllRowsItem","selectAllRowsItemText","onChangePage","page","onChangeRowsPerPage","USER"],"sourceRoot":""}