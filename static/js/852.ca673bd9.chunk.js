"use strict";(self.webpackChunkthis=self.webpackChunkthis||[]).push([[852],{2852:function(e,s,a){a.r(s);var r=a(4165),l=a(5861),n=a(4942),c=a(1413),t=a(885),o=a(2791),i=a(7689),m=a(1087),d=a(1885),u=a.n(d),x=a(9085),f=a(7022),h=a(8799),p=a(3073),g=a(6536),N=a(8898),b=a(6725),j=a(184);s.default=function(){var e=(0,o.useRef)(new(u())),s=(0,i.s0)(),a=(0,o.useState)({email:"",password:"",role:""}),d=(0,t.Z)(a,2),w=d[0],v=d[1],k=(0,N.G)(),A=k.loginUser_c,S=k.getIsLoggedIn_c,_=k.checkIsLoggedIn_c,C=k.logoutUser_c,y=S();function I(s){var a=s.target,r=a.name,l=a.value;e.current.showMessageFor(r),v((function(e){return(0,c.Z)((0,c.Z)({},e),{},(0,n.Z)({},r,l))}))}function R(){return(R=(0,l.Z)((0,r.Z)().mark((function e(){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.pH)(w);case 2:200===(a=e.sent).status?(A(a.data),s("/")):a.status>=400&&x.Am.warn(a.message.message);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(s){s.preventDefault(),e.current.allValid()?function(){R.apply(this,arguments)}():(e.current.showMessages(),x.Am.warn("Some Required Fields are Missing"))}return(0,g.Z)("Login"),(0,o.useEffect)((function(){y?s("/"):C(),!1===_()&&C()}),[]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"row m-0",children:[(0,j.jsxs)(f.Z,{className:"col-11",children:[(0,j.jsx)("div",{className:"d-flex flex-center flex-column flex-column-fluid pt-20",children:(0,j.jsx)(m.rU,{to:"/login",className:"mb-12",children:(0,j.jsx)("img",{alt:"brand-logo",src:h,className:"h-40px"})})}),(0,j.jsx)("div",{className:"w-lg-500px bg-body rounded shadow-sm p-10 p-lg-15 mx-auto",children:(0,j.jsxs)("form",{className:"form w-100",noValidate:"novalidate",id:"kt_sign_in_form",onSubmit:function(e){return E(e)},children:[(0,j.jsx)("div",{className:"text-center mb-10",children:(0,j.jsx)("h1",{className:"text-dark mb-3",children:"Sign In"})}),(0,j.jsx)("div",{className:"fv-row mb-10",children:(0,j.jsxs)("div",{className:"row mb-7",children:[(0,j.jsx)("label",{className:"col-2 form-label fs-6 fw-bolder text-dark text-center my-auto",children:"Email"}),(0,j.jsxs)("div",{className:"col-9",children:[(0,j.jsx)("input",{className:"form-control form-control-lg form-control-solid",type:"email",name:"email",onChange:I,value:w.email,placeholder:"hello@example.com"}),e.current.message("email",w.email,"required|email",{message:"email is required",className:"text-danger"})]})]})}),(0,j.jsx)("div",{className:"fv-row mb-10",children:(0,j.jsxs)("div",{className:"row mb-7",children:[(0,j.jsx)("label",{className:"col-2 form-label fs-6 fw-bolder text-dark text-center my-auto",children:"Password"}),(0,j.jsxs)("div",{className:"col-9",children:[(0,j.jsx)("input",{id:"password",className:"form-control form-control-lg form-control-solid",type:"password",name:"password",onChange:I,value:w.password,placeholder:"password"}),e.current.message("password",w.password,"required|min:4",{message:"password is required",className:"text-danger"})]})]})}),(0,j.jsx)("div",{className:"float-right ",children:(0,j.jsx)(m.rU,{to:"/forgot-password",className:" link-primary fw-bolder",children:"Forget Password ?"})}),(0,j.jsxs)("div",{className:"row ",children:[(0,j.jsxs)("div",{className:" pb-6 form-check form-check-custom form-check-success col-12",children:[(0,j.jsx)("h6",{className:"pe-2",children:"Login as: "}),(0,j.jsx)("input",{className:"form-check-input mx-1",type:"radio",value:b.t.ADMIN,name:"role",checked:w.role===b.t.ADMIN,onChange:I}),(0,j.jsx)("label",{children:b.t.RESEARCH_ASSISTANT}),(0,j.jsx)("input",{className:"form-check-input ms-8 me-1",type:"radio",value:b.t.USER,name:"role",checked:w.role===b.t.USER,onChange:I}),(0,j.jsx)("label",{children:b.t.DATA_COLLECTOR})]}),e.current.message("role",w.role,"required",{message:"Role is required",className:"text-danger"})]}),(0,j.jsx)("div",{className:"text-center",children:(0,j.jsx)("button",{type:"submit",id:"kt_sign_in_submit",className:"btn btn-lg btn-primary w-100 mb-5",children:(0,j.jsx)("span",{className:"indicator-label",children:"Login"})})})]})})]}),(0,j.jsx)("div",{className:"d-flex flex-center flex-column-auto p-10"}),(0,j.jsx)(x.Ix,{})]})})}},6725:function(e,s,a){a.d(s,{t:function(){return r}});var r={ADMIN:"admin",USER:"user",RESEARCH_ASSISTANT:"Principal Investigator",DATA_COLLECTOR:"Data Collector"}},8799:function(e,s,a){e.exports=a.p+"static/media/logo-1.5fb564d48ff52bb059f7.png"}}]);
//# sourceMappingURL=852.ca673bd9.chunk.js.map