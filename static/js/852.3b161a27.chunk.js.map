{"version":3,"file":"static/js/852.3b161a27.chunk.js","mappings":"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","sources":["component/LoginSignup/Login.jsx","helpers/constant.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport { Container } from \"react-bootstrap\";\r\n\r\nimport brandlogo from \"../commonComponents/images/logo-1.png\";\r\nimport { loginUser } from \"../../store/actions/user.action.js\";\r\nimport { useTitle } from '../../helpers/custom-hooks.js';\r\nimport { useUserProfile } from '../../context/UserContextProvider.js';\r\nimport { CONSTANTS } from '../../helpers/constant.js';\r\n\r\n\r\nfunction Login() {\r\n\tconst simpleValidator = useRef(new SimpleReactValidator());\r\n\tconst navigate = useNavigate();\r\n\tconst [passwordType, setPasswordType] = useState(\"password\"); // [password, text]\r\n\tconst [loginForm, setLoginForm] = useState({\r\n\t\temail: \"\",\r\n\t\tpassword: \"\",\r\n\t\trole: \"\",\r\n\t});\r\n\tconst { loginUser_c, getIsLoggedIn_c, checkIsLoggedIn_c, logoutUser_c } = useUserProfile();\r\n\tconst isLoggedIn = getIsLoggedIn_c();\r\n\r\n\tuseTitle('Login');\r\n\tuseEffect(() => {\r\n\t\tif (isLoggedIn) {\r\n\t\t\tnavigate(\"/\");\r\n\t\t} else {\r\n\t\t\tlogoutUser_c();\r\n\t\t}\r\n\r\n\t\tif (checkIsLoggedIn_c() === false) {\r\n\t\t\tlogoutUser_c();\r\n\t\t}\r\n\t}, []);\r\n\r\n\tfunction handleFormChange(event) {\r\n\t\tconst { name, value } = event.target;\r\n\t\tsimpleValidator.current.showMessageFor(name);\r\n\t\tsetLoginForm((prevValue) => {\r\n\t\t\treturn {\r\n\t\t\t\t...prevValue,\r\n\t\t\t\t[name]: value,\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\tasync function login() {\r\n\t\tlet response = await loginUser(loginForm);\r\n\t\tif (response.status === 200) {\r\n\t\t\t// set login cookie\r\n\t\t\tloginUser_c(response.data);\r\n\t\t\tnavigate(\"/\");\r\n\t\t} else if (response.status >= 400) {\r\n\t\t\ttoast.warn(response.message.message);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleFormSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tif (simpleValidator.current.allValid()) {\r\n\t\t\tlogin();\r\n\t\t} else {\r\n\t\t\tsimpleValidator.current.showMessages();\r\n\t\t\ttoast.warn(\"Some Required Fields are Missing\");\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className=\"row m-0\">\r\n\t\t\t\t<Container className=\"col-11\">\r\n\t\t\t\t\t<div className=\"d-flex flex-center flex-column flex-column-fluid pt-20\">\r\n\t\t\t\t\t\t<Link to=\"/login\" className=\"mb-12\">\r\n\t\t\t\t\t\t\t<img alt=\"brand-logo\" src={brandlogo} className=\"h-40px\" />\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"w-lg-500px bg-body rounded shadow-sm p-10 p-lg-15 mx-auto\">\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tclassName=\"form w-100\"\r\n\t\t\t\t\t\t\tnoValidate=\"novalidate\"\r\n\t\t\t\t\t\t\tid=\"kt_sign_in_form\"\r\n\t\t\t\t\t\t\tonSubmit={(e) => handleFormSubmit(e)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"text-center mb-10\">\r\n\t\t\t\t\t\t\t\t<h1 className=\"text-dark mb-3\">Sign In</h1>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"fv-row mb-10\">\r\n\t\t\t\t\t\t\t\t<div className=\"row mb-7\">\r\n\t\t\t\t\t\t\t\t\t{/* <div className=\"col-1\"></div> */}\r\n\t\t\t\t\t\t\t\t\t<label className=\"col-2 form-label fs-6 fw-bolder text-dark text-center my-auto\">\r\n\t\t\t\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-9\">\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg form-control-solid\"\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={loginForm.email}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"hello@example.com\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{simpleValidator.current.message(\r\n\t\t\t\t\t\t\t\t\t\t\t\"email\",\r\n\t\t\t\t\t\t\t\t\t\t\tloginForm.email,\r\n\t\t\t\t\t\t\t\t\t\t\t\"required|email\",\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: \"email is required\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"text-danger\",\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"fv-row mb-10\">\r\n\t\t\t\t\t\t\t\t<div className=\"row mb-7\">\r\n\t\t\t\t\t\t\t\t\t{/* <div className=\"col-1\"></div> */}\r\n\t\t\t\t\t\t\t\t\t<label className=\"col-2 form-label fs-6 fw-bolder text-dark text-center my-auto\">\r\n\t\t\t\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t\t\t\t\t<div className=\"col-9\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"input-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg form-control-solid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype={passwordType}\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={loginForm.password}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"password\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"input-group-text border-0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetPasswordType(passwordType === \"password\" ? \"text\" : \"password\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{passwordType === \"password\" ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"far fa-eye-slash\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"far fa-eye\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{simpleValidator.current.message(\r\n\t\t\t\t\t\t\t\t\t\t\t\"password\",\r\n\t\t\t\t\t\t\t\t\t\t\tloginForm.password,\r\n\t\t\t\t\t\t\t\t\t\t\t\"required|min:4\",\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: \"password is required\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName: \"text-danger\",\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"float-right \">\r\n\t\t\t\t\t\t\t\t<Link to=\"/forgot-password\" className=\" link-primary fw-bolder\">\r\n\t\t\t\t\t\t\t\t\tForget Password ?\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row \">\r\n\t\t\t\t\t\t\t\t<div className=\" pb-6 form-check form-check-custom form-check-success col-12\">\r\n\t\t\t\t\t\t\t\t\t<h6 className=\"pe-2\">Login as: </h6>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input mx-1\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={CONSTANTS.ADMIN}\r\n\t\t\t\t\t\t\t\t\t\tname=\"role\"\r\n\t\t\t\t\t\t\t\t\t\t{...{ checked: loginForm.role === CONSTANTS.ADMIN }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<label>{CONSTANTS.RESEARCH_ASSISTANT}</label>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-check-input ms-8 me-1\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\tvalue={CONSTANTS.USER}\r\n\t\t\t\t\t\t\t\t\t\tname=\"role\"\r\n\t\t\t\t\t\t\t\t\t\t{...{ checked: loginForm.role === CONSTANTS.USER }}\r\n\t\t\t\t\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<label>{CONSTANTS.DATA_COLLECTOR}</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{simpleValidator.current.message(\r\n\t\t\t\t\t\t\t\t\t\"role\",\r\n\t\t\t\t\t\t\t\t\tloginForm.role,\r\n\t\t\t\t\t\t\t\t\t\"required\",\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tmessage: \"Role is required\",\r\n\t\t\t\t\t\t\t\t\t\tclassName: \"text-danger\",\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tid=\"kt_sign_in_submit\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-lg btn-primary w-100 mb-5\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<span className=\"indicator-label\">Login</span>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Container>\r\n\t\t\t\t<div className=\"d-flex flex-center flex-column-auto p-10\"></div>\r\n\t\t\t\t<ToastContainer />\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Login;\r\n","export const CONSTANTS = {\r\n\tADMIN: 'admin',\r\n\tUSER: 'user',\r\n\tRESEARCH_ASSISTANT: 'Principal Investigator',\r\n\tDATA_COLLECTOR: 'Data Collector',\r\n};"],"names":["simpleValidator","useRef","SimpleReactValidator","navigate","useNavigate","useState","passwordType","setPasswordType","email","password","role","loginForm","setLoginForm","useUserProfile","loginUser_c","getIsLoggedIn_c","checkIsLoggedIn_c","logoutUser_c","isLoggedIn","handleFormChange","event","target","name","value","current","showMessageFor","prevValue","loginUser","response","status","data","toast","warn","message","handleFormSubmit","e","preventDefault","allValid","login","showMessages","useTitle","useEffect","className","to","alt","src","brandlogo","noValidate","id","onSubmit","type","onChange","placeholder","onClick","style","cursor","CONSTANTS","ADMIN","checked","RESEARCH_ASSISTANT","USER","DATA_COLLECTOR"],"sourceRoot":""}