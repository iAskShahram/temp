"use strict";(self.webpackChunkthis=self.webpackChunkthis||[]).push([[73],{5579:function(t,e,n){n.r(e);var a=n(4165),r=n(1413),i=n(5861),c=n(885),s=n(2791),o=n(3513),u=n(5181),l=(n(3568),n(9085)),d=(n(4666),n(9492)),f=n(4434),p=n(6536),h=n(184);e.default=function(){var t=(0,s.useState)(!1),e=(0,c.Z)(t,2),n=e[0],v=e[1],g=(0,s.useState)(1),m=(0,c.Z)(g,2),Z=m[0],x=m[1],_=(0,s.useState)(10),C=(0,c.Z)(_,2),b=C[0],y=C[1],w=(0,s.useState)([]),N=(0,c.Z)(w,2),j=N[0],S=N[1],k=(0,s.useState)(0),P=(0,c.Z)(k,2),E=P[0],A=P[1],H=[{name:"City Name",center:!0,selector:function(t){return t.name},cellExport:function(t){return t.name},wrap:!0},{name:"Created At",center:!0,selector:function(t){return t.created_at},cellExport:function(t){return t.created_at},wrap:!0,cell:function(t){var e;return null===(e=t.created_at)||void 0===e?void 0:e.split("T")[0]}},{name:"Created By",center:!0,selector:function(t){var e;return null===(e=t.created_by)||void 0===e?void 0:e.name},cellExport:function(t){var e;return null===(e=t.created_by)||void 0===e?void 0:e.name},wrap:!0}],L={columns:H,data:j};function R(){return(R=(0,i.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(!0),t.next=3,(0,d.z)({_pageNo:Z,_count:b});case 3:e=t.sent,v(!1),200===e.status?(S(e.data.cities),A(e.data.total)):e.status>=400&&l.Am.warn("failed to get cities");case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,p.Z)("List Cities"),(0,s.useEffect)((function(){!function(){R.apply(this,arguments)}()}),[Z,b]),n?(0,h.jsx)(f.Z,{text:"Loading Cities"}):(0,h.jsxs)("div",{className:"my-8 card",children:[(0,h.jsx)("div",{className:"card-header border-0 cursor-pointer",role:"button","data-bs-toggle":"collapse","data-bs-target":"#kt_account_profile_details","aria-expanded":"true","aria-controls":"kt_account_profile_details",children:(0,h.jsx)("div",{className:"card-title m-0",children:(0,h.jsx)("h3",{className:"fw-bolder m-0",children:"Cities' List"})})}),(0,h.jsx)("div",{className:"card-body border-top p-9",children:(0,h.jsx)(u.Z,(0,r.Z)((0,r.Z)({},L),{},{children:(0,h.jsx)(o.ZP,{columns:H,data:j,noHeader:!0,highlightOnHover:!0,defaultSortField:"id",defaultSortAsc:!0,exportHeaders:!0,pagination:!0,paginationServer:!0,paginationDefaultPage:Z,paginationPerPage:b,paginationTotalRows:E,onChangePage:function(t){return x(Number(t))},onChangeRowsPerPage:function(t){return y(Number(t))}})}))}),(0,h.jsx)(l.Ix,{})]})}},9492:function(t,e,n){n.d(e,{g:function(){return d},z:function(){return l}});var a=n(1413),r=n(3144),i=n(5671),c=n(7976),s=(0,r.Z)((function t(){(0,i.Z)(this,t)}));s.listCities=function(t){var e="/api/city/list-cities?_pageNo=".concat(null===t||void 0===t?void 0:t._pageNo,"&_count=").concat(null===t||void 0===t?void 0:t._count);return c.Z.get(e)},s.createCity=function(t){return c.Z.post("api/city",(0,a.Z)({},t))};var o=s,u=n(3984),l=function(t){return o.listCities(t).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,u.Z)(t)}))},d=function(t){return o.createCity(t).then((function(t){return{status:t.status,data:t.data,message:"Request Success"}})).catch((function(t){return(0,u.Z)(t)}))}}}]);
//# sourceMappingURL=73.5222bf65.chunk.js.map