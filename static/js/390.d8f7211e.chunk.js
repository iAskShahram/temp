"use strict";(self.webpackChunkthis=self.webpackChunkthis||[]).push([[390],{7793:function(e,t,n){n.r(t);var r=n(4165),a=n(1413),o=n(5861),s=n(885),c=n(2791),u=n(3513),i=n(5181),l=(n(3568),n(3073)),d=n(9085),p=n(8185),f=n(7689),m=n(4434),h=n(6536),b=n(6725),x=n(184);t.default=function(){var e=(0,f.s0)(),t=(0,c.useState)(!1),n=(0,s.Z)(t,2),g=n[0],w=n[1],A=(0,c.useState)(1),N=(0,s.Z)(A,2),v=N[0],S=N[1],E=(0,c.useState)(10),Z=(0,s.Z)(E,2),C=Z[0],y=Z[1],j=(0,c.useState)([]),R=(0,s.Z)(j,2),_=R[0],k=R[1],T=(0,c.useState)(0),P=(0,s.Z)(T,2),D=P[0],H=P[1],L=[{name:"Name",selector:function(e){return e.name},cellExport:function(e){return e.name},wrap:!0,center:!0},{name:"Email",selector:function(e){return e.email},cellExport:function(e){return e.email},wrap:!0,center:!0},{name:"Role",selector:function(e){return e.role},cellExport:function(e){return e.role},sortable:!0,wrap:!0,center:!0,cell:function(e){return e.role===b.t.ADMIN?b.t.RESEARCH_ASSISTANT:b.t.DATA_COLLECTOR}},{name:"CNIC",selector:function(e){return e.cnic},cellExport:function(e){return e.cnic},wrap:!0,center:!0},{name:"Gender",selector:function(e){return e.gender},cellExport:function(e){return e.gender},sortable:!0,wrap:!0,center:!0},{name:"Place",selector:function(e){return e.city},cellExport:function(e){return e.city},wrap:!0,center:!0,sortable:!0},{name:"Phone",selector:function(e){return e.phone},cellExport:function(e){return e.phone},wrap:!0,center:!0},{name:"DoB",selector:function(e){return e.dob},cellExport:function(e){return e.dob},wrap:!0,cell:function(e){return e.dob.split("T")[0]}},{name:"Action",sortable:!1,cell:function(t){return(0,x.jsxs)("div",{className:"btn-group",children:[(0,x.jsx)("button",{onClick:function(){return n=t.id,void e("/update-user",{state:{id:n}});var n},className:"btn btn-primary btn-sm",type:"button",name:"options",id:"option1",children:(0,x.jsx)(p.HlX,{})}),(0,x.jsx)("button",{onClick:function(){return function(e){return O.apply(this,arguments)}(t.id)},className:"btn btn-danger btn-sm",type:"button",name:"options",id:"option2",children:(0,x.jsx)(p.dnY,{})})]})}}],I={columns:L,data:_};function O(){return(O=(0,o.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you want to delete this user?")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,l.h8)(Number(t));case 5:200===(n=e.sent).status?(d.Am.success("Deleted Sucessfully"),U()):n.status>=400&&d.Am.warn(n.message.message);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return F.apply(this,arguments)}function F(){return(F=(0,o.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.next=3,(0,l.tA)({_pageNo:v,_count:C});case 3:t=e.sent,w(!1),200===t.status?(k(t.data.users),H(null===(n=t.data)||void 0===n?void 0:n.total)):t.status>=400&&d.Am.warn("No Records Found");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,h.Z)("Users' List"),(0,c.useEffect)((function(){U()}),[v,C]),g?(0,x.jsx)(m.Z,{text:"loading..."}):(0,x.jsxs)("div",{className:"my-8 card",children:[(0,x.jsx)("div",{className:"card-header border-0 cursor-pointer",role:"button","data-bs-toggle":"collapse","data-bs-target":"#kt_account_profile_details","aria-expanded":"true","aria-controls":"kt_account_profile_details",children:(0,x.jsx)("div",{className:"card-title m-0",children:(0,x.jsx)("h3",{className:"fw-bolder m-0",children:"Users' List"})})}),(0,x.jsx)("div",{className:"card-body border-top p-9",children:(0,x.jsx)(i.Z,(0,a.Z)((0,a.Z)({},I),{},{children:(0,x.jsx)(u.ZP,{columns:L,data:_,noHeader:!0,highlightOnHover:!0,defaultSortField:"id",defaultSortAsc:!0,exportHeaders:!0,pagination:!0,paginationServer:!0,paginationDefaultPage:v,paginationPerPage:C,paginationTotalRows:D,onChangePage:function(e){return S(Number(e))},onChangeRowsPerPage:function(e){return y(Number(e))}})}))})]})}},6725:function(e,t,n){n.d(t,{t:function(){return r}});var r={ADMIN:"admin",USER:"user",RESEARCH_ASSISTANT:"Research Assistant",DATA_COLLECTOR:"Data Collector"}}}]);
//# sourceMappingURL=390.d8f7211e.chunk.js.map