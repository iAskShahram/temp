"use strict";(self.webpackChunkthis=self.webpackChunkthis||[]).push([[385],{7510:function(t,e,n){n.r(e),n.d(e,{default:function(){return C}});var i=n(3360),a=n(1087),r=n(6536),s=n(7263),c=n(1413),u=n(4165),o=n(5861),d=n(885),l=n(2791),p=n(3513),m=n(5181),f=(n(3568),n(8185)),v=n(7689),g=n(9085),h=n(5142),_=n(4434),x=n(184),y=function(){var t=[{name:"Patient ID",selector:function(t){return t.id},cellExport:function(t){return t.id},cell:function(t){return t.id||""},wrap:!0,center:!0},{name:"Name",selector:function(t){return t.name},cellExport:function(t){return t.name},cell:function(t){return t.name||""},wrap:!0,center:!0},{name:"CNIC",selector:function(t){var e,n,i;return null===(e=t.demographic[0])||void 0===e||null===(n=e.demo_section_answer)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.answer_text},cellExport:function(t){var e,n,i;return null===(e=t.demographic[0])||void 0===e||null===(n=e.demo_section_answer)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.answer_text},cell:function(t){var e,n,i;return(null===(e=t.demographic[0])||void 0===e||null===(n=e.demo_section_answer)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.answer_text)||""},wrap:!0,center:!0},{name:"DoB",selector:function(t){var e;return null===(e=t.demographic[0])||void 0===e?void 0:e.dob},cellExport:function(t){var e;return null===(e=t.demographic[0])||void 0===e?void 0:e.dob},cell:function(t){var e,n;return(null===(e=t.demographic[0])||void 0===e||null===(n=e.dob)||void 0===n?void 0:n.split("T")[0])||""},wrap:!0,center:!0},{name:"Created By",selector:function(t){var e;return null===(e=t.created_by)||void 0===e?void 0:e.name},cellExport:function(t){var e;return null===(e=t.created_by)||void 0===e?void 0:e.name},cell:function(t){var e;return(null===(e=t.created_by)||void 0===e?void 0:e.name)||""},wrap:!0,center:!0},{name:"Created At",selector:function(t){return t.created_at},cellExport:function(t){return t.created_at},cell:function(t){var e,n,i;return((null===(e=t.created_at)||void 0===e?void 0:e.split("T")[0])||"")+" "+((null===(n=t.created_at)||void 0===n||null===(i=n.split("T")[1])||void 0===i?void 0:i.split(".")[0])||"")},wrap:!0,center:!0},{name:"Action",sortable:!1,cell:function(t){return(0,x.jsx)("div",{className:"btn-group",children:(0,x.jsx)("button",{onClick:function(){return(e=t.id)?L("/edit-form-demo-patient",{state:{id:e}}):g.Am.error("No ID Found");var e},className:"btn btn-primary btn-sm",type:"button",name:"options",id:"option1",children:(0,x.jsx)(f.HlX,{})})})}}],e=(0,l.useState)(!1),n=(0,d.Z)(e,2),i=n[0],a=n[1],r=(0,l.useState)([]),s=(0,d.Z)(r,2),y=s[0],Z=s[1],C=(0,l.useState)(1),j=(0,d.Z)(C,2),Q=j[0],b=j[1],w=(0,l.useState)(10),S=(0,d.Z)(w,2),N=S[0],D=S[1],E=(0,l.useState)(0),F=(0,d.Z)(E,2),P=F[0],k=F[1],L=(0,v.s0)(),T={columns:t,data:y};(0,l.useEffect)((function(){A()}),[Q,N]);var A=function(){var t=(0,o.Z)((0,u.Z)().mark((function t(){var e,n,i;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!0),t.prev=1,t.next=4,(0,h.sT)({_pageNo:Q,_count:N});case 4:i=t.sent,Z((null===(e=i.data)||void 0===e?void 0:e.patients)||[]),k((null===(n=i.data)||void 0===n?void 0:n.total)||0),a(!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),a(!1);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h3",{children:" Latest Filled Forms "}),(0,x.jsx)("div",{className:"card-body border-top p-9",children:(0,x.jsx)(m.Z,(0,c.Z)((0,c.Z)({},T),{},{children:(0,x.jsx)(p.ZP,{columns:t,data:y,noHeader:!0,highlightOnHover:!0,defaultSortField:"id",defaultSortAsc:!0,exportHeaders:!0,progressComponent:(0,x.jsx)(_.Z,{text:" Loading Forms ...",vh100:!1}),progressPending:i,title:"Latest Filled Forms",responsive:!0,pagination:!0,paginationServer:!0,paginationDefaultPage:Q,paginationPerPage:N,paginationTotalRows:P,onChangePage:function(t){return b(Number(t))},onChangeRowsPerPage:function(t){return D(Number(t))}})}))})]})},Z=n(8898);var C=function(){var t=(0,(0,Z.G)().getUserProfile_c)();return(0,r.Z)("Index"),(0,x.jsxs)(s.xc,{title:"Home Page",children:[(0,x.jsx)(s.Uy,{children:(0,x.jsx)(a.rU,{to:"/form",children:(0,x.jsx)(i.Z,{variant:"primary",children:"Continue to Form"})})}),(0,x.jsx)(s.Uy,{styles:{marginTop:"32px"},children:(0,x.jsx)("div",{children:"admin"===(null===t||void 0===t?void 0:t.role)&&(0,x.jsx)(y,{})})})]})}},7263:function(t,e,n){n.d(e,{Uy:function(){return u},xc:function(){return c}});var i=n(4849),a=n(3360),r=n(7689),s=n(184),c=function(t){var e=t.children,n=t.title,c=t.isLoading,u=t.paddingSmall,o=t.resetCookieAndLocalStorage,d=(0,r.s0)();return(0,s.jsxs)("div",{className:"my-8 card ",children:[(0,s.jsxs)("h1",{className:"card-header",children:[(0,s.jsx)("div",{className:"card-title m-0",children:(0,s.jsx)("h3",{className:"fw-bolder m-0",children:n})}),c?(0,s.jsxs)("div",{className:"card-subtitle card-title m-0",children:[(0,s.jsx)(i.Z,{as:"span",animation:"grow",size:"md",role:"status","aria-hidden":"true"}),(0,s.jsx)("p",{className:"m-0",children:"Loading ..."})]}):null,o&&(0,s.jsx)("div",{className:"card-subtitle card-title m-0",children:(0,s.jsx)(a.Z,{variant:"outline-danger",className:"m-0",onClick:function(){window.confirm("Are you sure you want to clear cache?")&&(o(),d("/"))},children:"Clear Form Cache"})})]}),(0,s.jsx)("div",{className:"card-body ".concat(c?"opacity-50":null),style:c?{pointerEvents:"none"}:{},children:(0,s.jsx)("div",{className:"".concat(u?"p-sm-0 px-md-3 px-lg-10":"p-sm-0 px-md-10 px-lg-20"),children:e})})]})},u=function(t){var e=t.children,n=t.styles;return(0,s.jsx)("div",{className:"d-flex align-items-center justify-content-center",style:n,children:(0,s.jsx)("div",{className:"text-center",children:e})})}},5142:function(t,e,n){n.d(e,{s4:function(){return p},xi:function(){return f},QI:function(){return _},yw:function(){return y},c3:function(){return g},sT:function(){return o},vZ:function(){return d},Wl:function(){return m},zS:function(){return x},LO:function(){return v},o9:function(){return Z},YS:function(){return l},HR:function(){return h}});var i=n(3144),a=n(5671),r=n(7976),s=(0,i.Z)((function t(){(0,a.Z)(this,t)}));s.getLatestFilledForms=function(t){var e=t._pageNo,n=t._count,i="/api/form/list-latest-filled-forms?_pageNo=".concat(e,"&_count=").concat(n);return r.Z.get(i)},s.getPatientEditForm=function(t){var e=t.id,n="/api/form/get-edit-demo?id=".concat(e,"&type=patient");return r.Z.get(n)},s.updatePatientDemo=function(t){var e=t.dynamicQuestions,n=t.preDefinedQuestions,i=t.demo_id,a=t.patient_id;return r.Z.post("/api/form/update-edit-demo",{dynamicQuestions:e,preDefinedQuestions:n,demo_id:i,patient_id:a,type:"patient"})},s.getCaregiverEditForm=function(t){var e=t.id,n="/api/form/get-edit-demo?id=".concat(e,"&type=caregiver");return r.Z.get(n)},s.updateCaregiverDemo=function(t){var e=t.dynamicQuestions,n=t.preDefinedQuestions,i=t.demo_id,a=t.patient_id;return r.Z.post("/api/form/update-edit-demo",{dynamicQuestions:e,preDefinedQuestions:n,demo_id:i,patient_id:a,type:"caregiver"})},s.getChildEditForm=function(t){var e=t.id,n="/api/form/get-edit-demo?id=".concat(e,"&type=child");return r.Z.get(n)},s.updateChildDemo=function(t){var e=t.dynamicQuestions,n=t.preDefinedQuestions,i=t.demo_id,a=t.patient_id;return r.Z.post("/api/form/update-edit-demo",{dynamicQuestions:e,preDefinedQuestions:n,demo_id:i,patient_id:a,type:"child"})},s.getEditPatientScales=function(t){var e=t.id,n="/api/form/get-edit-scale?id=".concat(e,"&type=patient");return r.Z.get(n)},s.updatePatientScales=function(t){var e=t.patient_id,n=t.scales;return r.Z.post("/api/form/update-edit-scale",{patient_id:e,scales:n,type:"patient"})},s.getEditCaregiverScales=function(t){var e=t.id,n="/api/form/get-edit-scale?id=".concat(e,"&type=caregiver");return r.Z.get(n)},s.updateCaregiverScales=function(t){var e=t.patient_id,n=t.scales;return r.Z.post("/api/form/update-edit-scale",{patient_id:e,scales:n,type:"caregiver"})},s.getEditChildScales=function(t){var e=t.id,n="/api/form/get-edit-scale?id=".concat(e,"&type=child");return r.Z.get(n)},s.updateChildScales=function(t){var e=t.patient_id,n=t.scales;return r.Z.post("/api/form/update-edit-scale",{patient_id:e,scales:n,type:"child"})};var c=s,u=n(3984),o=function(t){return c.getLatestFilledForms(t).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,u.Z)(t)}))},d=function(t){return c.getPatientEditForm(t).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,u.Z)(t)}))},l=function(t){var e=t.dynamicQuestions,n=t.preDefinedQuestions,i=t.demo_id,a=t.patient_id;return c.updatePatientDemo({dynamicQuestions:e,preDefinedQuestions:n,demo_id:i,patient_id:a}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,u.Z)(t)}))},p=function(t){return c.getCaregiverEditForm(t).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,u.Z)(t)}))},m=function(t){var e=t.dynamicQuestions,n=t.preDefinedQuestions,i=t.demo_id,a=t.patient_id;return c.updateCaregiverDemo({dynamicQuestions:e,preDefinedQuestions:n,demo_id:i,patient_id:a}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,u.Z)(t)}))},f=function(t){return c.getChildEditForm(t).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,u.Z)(t)}))},v=function(t){var e=t.dynamicQuestions,n=t.preDefinedQuestions,i=t.demo_id,a=t.patient_id;return c.updateChildDemo({dynamicQuestions:e,preDefinedQuestions:n,demo_id:i,patient_id:a}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,u.Z)(t)}))},g=function(t){var e=t.id;return c.getEditPatientScales({id:e}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,u.Z)(t)}))},h=function(t){var e=t.patient_id,n=t.scales;return c.updatePatientScales({patient_id:e,scales:n}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,u.Z)(t)}))},_=function(t){var e=t.id;return c.getEditCaregiverScales({id:e}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return console.log(t),(0,u.Z)(t)}))},x=function(t){var e=t.patient_id,n=t.scales;return c.updateCaregiverScales({patient_id:e,scales:n}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,u.Z)(t)}))},y=function(t){var e=t.id;return c.getEditChildScales({id:e}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,u.Z)(t)}))},Z=function(t){var e=t.patient_id,n=t.scales;return c.updateChildScales({patient_id:e,scales:n}).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,u.Z)(t)}))}}}]);
//# sourceMappingURL=385.b3098b0a.chunk.js.map