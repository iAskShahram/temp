"use strict";(self.webpackChunkthis=self.webpackChunkthis||[]).push([[812],{5812:function(t,e,s){s.r(e);var n=s(4165),a=s(5861),i=s(885),r=s(2791),c=s(9492),o=s(7689),l=s(1885),u=s.n(l),d=s(9085),f=(s(4666),s(6536)),m=s(184);e.default=function(){var t=(0,r.useRef)(new(u())),e=(0,o.s0)(),s=(0,r.useState)(""),l=(0,i.Z)(s,2),p=l[0],h=l[1];function v(){return(v=(0,a.Z)((0,n.Z)().mark((function t(){var s;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.gC)({name:p});case 2:200===(s=t.sent).status?(d.Am.success("City created"),e("/list-cities")):d.Am.error(s.message.message);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t){t.preventDefault(),p.length?function(){v.apply(this,arguments)}():d.Am.warn("Some Required Fields are Missing")}return(0,f.Z)("Create City"),(0,m.jsxs)("div",{className:"my-8 card",children:[(0,m.jsx)("div",{className:"card-header border-0 cursor-pointer",role:"button","data-bs-toggle":"collapse","data-bs-target":"#kt_account_profile_details","aria-expanded":"true","aria-controls":"kt_account_profile_details",children:(0,m.jsx)("div",{className:"card-title m-0",children:(0,m.jsx)("h3",{className:"fw-bolder m-0",children:"Create City"})})}),(0,m.jsxs)("form",{id:"kt_account_profile_details",className:"collapse show",onSubmit:function(t){return b(t)},children:[(0,m.jsx)("div",{id:"kt_account_profile_details_form",className:"form fv-plugins-bootstrap5 fv-plugins-framework",noValidate:"novalidate"}),(0,m.jsxs)("div",{className:"card-body border-top p-9",children:[(0,m.jsx)("div",{className:"row mb-6"}),(0,m.jsx)("div",{className:"row mb-6",children:(0,m.jsxs)("div",{className:"row mb-6",children:[(0,m.jsx)("div",{className:"col-1"}),(0,m.jsx)("label",{className:"col-lg-2 col-md-2 col-sm-4 col-form-label required fw-bold fs-6",children:"City"}),(0,m.jsxs)("div",{className:"col-lg-9 col-md-9 col-sm-8 fv-row fv-plugins-icon-container",children:[(0,m.jsx)("input",{value:p,type:"text",name:"name",className:"form-control form-control-lg form-control-solid",placeholder:"city",onChange:function(e){var s=e.target,n=s.name,a=s.value;t.current.showMessageFor(n),h(a)}}),(0,m.jsx)("div",{className:"fv-plugins-message-container invalid-feedback"})]})]})}),(0,m.jsxs)("div",{className:"card-footer d-flex justify-content-end py-6 px-9",children:[(0,m.jsx)("button",{type:"button",onClick:function(t){return e("/list-cities")},className:"btn btn-light btn-active-light-primary me-2",children:"Discard"}),(0,m.jsx)("button",{type:"submit",className:"btn btn-primary",id:"kt_account_profile_details_submit",children:"Submit"})]})]})]}),(0,m.jsx)(d.Ix,{})]})}},9492:function(t,e,s){s.d(e,{gC:function(){return d},Se:function(){return f},ze:function(){return u}});var n=s(1413),a=s(3144),i=s(5671),r=s(7976),c=(0,a.Z)((function t(){(0,i.Z)(this,t)}));c.listCities=function(t){var e="/api/city/list-cities?_pageNo=".concat(null===t||void 0===t?void 0:t._pageNo,"&_count=").concat(null===t||void 0===t?void 0:t._count);return r.Z.get(e)},c.createCity=function(t){return r.Z.post("api/city",(0,n.Z)({},t))},c.deleteCity=function(t){var e=t.id,s="api/city/".concat(e);return r.Z.delete(s)};var o=c,l=s(3984),u=function(t){return o.listCities(t).then((function(t){return{status:t.status,data:t.data,message:"success"}})).catch((function(t){return(0,l.Z)(t)}))},d=function(t){return o.createCity(t).then((function(t){return{status:t.status,data:t.data,message:"Request Success"}})).catch((function(t){return(0,l.Z)(t)}))},f=function(t){var e=t.id;return o.deleteCity({id:e}).then((function(t){return{status:t.status,data:t.data,message:"Request Success"}})).catch((function(t){return(0,l.Z)(t)}))}}}]);
//# sourceMappingURL=812.6a79eb2d.chunk.js.map