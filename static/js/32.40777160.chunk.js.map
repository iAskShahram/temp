{"version":3,"file":"static/js/32.40777160.chunk.js","mappings":"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","sources":["component/User/UpdateUser.jsx","helpers/constant.js","store/services/city/city.js","store/actions/city.action.js"],"sourcesContent":["import React, { useEffect, useRef, useState, useMemo } from \"react\";\r\nimport { getUserProfile, updateUser } from \"../../store/actions/user.action.js\";\r\nimport { listCities } from \"../../store/actions/city.action.js\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport SimpleReactValidator from \"simple-react-validator\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { useTitle } from '../../helpers/custom-hooks.js';\r\nimport { useUserProfile } from '../../context/UserContextProvider.js';\r\nimport { CONSTANTS } from '../../helpers/constant.js';\r\n\r\nconst User = () => {\r\n\tconst simpleValidator = useRef(new SimpleReactValidator());\r\n\tconst navigate = useNavigate();\r\n\tconst { state } = useLocation();\r\n\tconst { getUserProfile_c } = useUserProfile();\r\n\tconst USER = useState(getUserProfile_c());\r\n\tconst updateUserID = useRef(null);\r\n\r\n\tconst [cities, setCities] = useState([]);\r\n\tconst [userForm, setUserForm] = useState({\r\n\t\tname: \"\",\r\n\t\tcnic: \"\",\r\n\t\tdob: \"\",\r\n\t\temail: \"\",\r\n\t\tphone: \"\",\r\n\t\tgender: \"\",\r\n\t\trole: \"\",\r\n\t\tpassword: \"\",\r\n\t});\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\t// state?.id ? state.id : navigate(\"/\");\r\n\t\tif (!state?.id || !Object.keys(USER).length || USER.role?.toLowerCase().trim() === CONSTANTS.USER) {\r\n\t\t\tnavigate(\"/\");\r\n\t\t} else {\r\n\t\t\tupdateUserID.current = state.id;\r\n\t\t\t_getUserProfile();\r\n\t\t\t_getAllCities();\r\n\t\t}\r\n\t}, []);\r\n\tuseTitle(\"Update User\");\r\n\r\n\r\n\r\n\tfunction handleFormChange(event) {\r\n\t\tconst { name, value } = event.target;\r\n\t\tsimpleValidator.current.showMessageFor(name);\r\n\t\tsetUserForm((prevValue) => {\r\n\t\t\treturn {\r\n\t\t\t\t...prevValue,\r\n\t\t\t\t[name]: value,\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\tasync function _getUserProfile() {\r\n\t\tconst response = await getUserProfile(Number(updateUserID.current));\r\n\t\tif (response.status === 200) {\r\n\t\t\tsetUserForm({ ...response.data, password: \"\" });\r\n\t\t} else {\r\n\t\t\ttoast.error(\"Unable to fetch User Data\");\r\n\t\t}\r\n\t}\r\n\tasync function _getAllCities() {\r\n\t\tlet response = await listCities({ _pageNo: 1, _count: 1000 });\r\n\t\tif (response.status === 200) {\r\n\t\t\tsetCities(response.data.cities);\r\n\t\t} else if (response.status >= 400) {\r\n\t\t\ttoast.warn(\"failed to get cities\");\r\n\t\t}\r\n\t}\r\n\r\n\tasync function update() {\r\n\t\tlet response = await updateUser(userForm, parseInt(userForm.id));\r\n\t\tif (response.status === 200) {\r\n\t\t\ttoast.success(\"User updated\");\r\n\t\t\tnavigate(\"/list-users\");\r\n\t\t} else if (response.status >= 400) {\r\n\t\t\ttoast.warn(response.message.message);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleFormSubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tif (simpleValidator.current.allValid()) {\r\n\t\t\tupdate();\r\n\t\t} else {\r\n\t\t\tsimpleValidator.current.showMessages();\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"my-8 card\">\r\n\t\t\t<div\r\n\t\t\t\tclassName=\"card-header border-0 cursor-pointer\"\r\n\t\t\t\trole=\"button\"\r\n\t\t\t\tdata-bs-toggle=\"collapse\"\r\n\t\t\t\tdata-bs-target=\"#kt_account_profile_details\"\r\n\t\t\t\taria-expanded=\"true\"\r\n\t\t\t\taria-controls=\"kt_account_profile_details\"\r\n\t\t\t>\r\n\t\t\t\t<div className=\"card-title m-0\">\r\n\t\t\t\t\t<h3 className=\"fw-bolder m-0\">Update User</h3>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<form\r\n\t\t\t\tid=\"kt_account_profile_details\"\r\n\t\t\t\tclassName=\"collapse show\"\r\n\t\t\t\tonSubmit={(e) => handleFormSubmit(e)}\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tid=\"kt_account_profile_details_form\"\r\n\t\t\t\t\tclassName=\"form fv-plugins-bootstrap5 fv-plugins-framework\"\r\n\t\t\t\t\tnoValidate=\"novalidate\"\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"card-body border-top p-9\">\r\n\t\t\t\t\t<div className=\"row mb-6\"></div>\r\n\t\t\t\t\t<div className=\"row mb-6\">\r\n\t\t\t\t\t\t<div className=\"row mb-6\">\r\n\t\t\t\t\t\t\t<div className=\"col-1\"></div>\r\n\t\t\t\t\t\t\t<label className=\"col-lg-2 col-md-2 col-sm-4 col-form-label required fw-bold fs-6\">\r\n\t\t\t\t\t\t\t\tName\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-9 col-md-9 col-sm-8 fv-row fv-plugins-icon-container\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\tvalue={userForm.name}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg form-control-solid\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Name\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div className=\"fv-plugins-message-container invalid-feedback\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row mb-6\">\r\n\t\t\t\t\t\t\t<div className=\"col-1\"></div>\r\n\t\t\t\t\t\t\t<label className=\"col-lg-2 col-md-2 col-sm-4 col-form-label required fw-bold fs-6\">\r\n\t\t\t\t\t\t\t\tCNIC\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-9 col-md-9 col-sm-8 fv-row fv-plugins-icon-container\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\tvalue={userForm.cnic}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg form-control-solid\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"CNIC\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div className=\"fv-plugins-message-container invalid-feedback\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row mb-6\">\r\n\t\t\t\t\t\t\t<div className=\"col-1\"></div>\r\n\t\t\t\t\t\t\t<label className=\"col-lg-2 col-md-2 col-sm-4 col-form-label required fw-bold fs-6\">\r\n\t\t\t\t\t\t\t\tDate of Birth\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-9 col-md-9 col-sm-8 fv-row fv-plugins-icon-container\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\tvalue={userForm.dob.split(\"T\")[0]}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg form-control-solid\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Date of birth\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div className=\"fv-plugins-message-container invalid-feedback\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row mb-6\">\r\n\t\t\t\t\t\t\t<div className=\"col-1\"></div>\r\n\t\t\t\t\t\t\t<label className=\"col-lg-2 col-md-2 col-sm-4 col-form-label required fw-bold fs-6\">\r\n\t\t\t\t\t\t\t\tGender\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-9 col-md-9 col-sm-8 fv-row fv-plugins-icon-container\">\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\tid=\"gender\"\r\n\t\t\t\t\t\t\t\t\tname=\"gender\"\r\n\t\t\t\t\t\t\t\t\tvalue={userForm.gender}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg form-control-solid\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option value=\"\">Select</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"male\">male</option>\r\n\t\t\t\t\t\t\t\t\t<option value=\"female\">female</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"row mb-6\">\r\n\t\t\t\t\t\t\t<div className=\"col-1\"></div>\r\n\t\t\t\t\t\t\t<label className=\"col-lg-2 col-md-2 col-sm-4 col-form-label required fw-bold fs-6\">\r\n\t\t\t\t\t\t\t\tCity\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-9 col-md-9 col-sm-8 fv-row fv-plugins-icon-container\">\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tid=\"city\"\r\n\t\t\t\t\t\t\t\t\tname=\"city_id\"\r\n\t\t\t\t\t\t\t\t\tvalue={userForm.city_id}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg form-control-solid\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option value=\"\">Select</option>\r\n\t\t\t\t\t\t\t\t\t{cities.map((city, key) => (\r\n\t\t\t\t\t\t\t\t\t\t<option key={key} value={city.id}>{city.name}</option>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t{simpleValidator.current.message(\r\n\t\t\t\t\t\t\t\t\t\"city\",\r\n\t\t\t\t\t\t\t\t\tuserForm.city_id,\r\n\t\t\t\t\t\t\t\t\t\"required\",\r\n\t\t\t\t\t\t\t\t\t{ messgae: \"City is required\", className: \"text-danger\" }\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className=\"row mb-6\">\r\n\t\t\t\t\t\t\t<div className=\"col-1\"></div>\r\n\t\t\t\t\t\t\t<label className=\"col-lg-2 col-md-2 col-sm-4 col-form-label required fw-bold fs-6\">\r\n\t\t\t\t\t\t\t\tPhone\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-9 col-md-9 col-sm-8 fv-row fv-plugins-icon-container\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t\t\t\t\tvalue={userForm.phone}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"phone\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg form-control-solid\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Contact Number\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{simpleValidator.current.message(\r\n\t\t\t\t\t\t\t\t\t\"phone\",\r\n\t\t\t\t\t\t\t\t\tuserForm.phone,\r\n\t\t\t\t\t\t\t\t\t\"required|numeric|min:11\",\r\n\t\t\t\t\t\t\t\t\t{ messgae: \"Phone is required\", className: \"text-danger\" }\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"fv-plugins-message-container invalid-feedback\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row mb-6\">\r\n\t\t\t\t\t\t\t<div className=\"col-1\"></div>\r\n\t\t\t\t\t\t\t<label className=\"col-lg-2 col-md-2 col-sm-4 col-form-label required fw-bold fs-6\">\r\n\t\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-9 col-md-9 col-sm-8 fv-row fv-plugins-icon-container\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t\t\t\tvalue={userForm.email}\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg form-control-solid\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{simpleValidator.current.message(\r\n\t\t\t\t\t\t\t\t\t\"email\",\r\n\t\t\t\t\t\t\t\t\tuserForm.email,\r\n\t\t\t\t\t\t\t\t\t\"required|email\",\r\n\t\t\t\t\t\t\t\t\t{ messgae: \"email is required\", className: \"text-danger\" }\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"fv-plugins-message-container invalid-feedback\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row mb-6\">\r\n\t\t\t\t\t\t\t<div className=\"col-1\"></div>\r\n\t\t\t\t\t\t\t<label className=\"col-lg-2 col-md-2 col-sm-4 col-form-label required fw-bold fs-6\">\r\n\t\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-9 col-md-9 col-sm-8 fv-row fv-plugins-icon-container\">\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tvalue={userForm.password}\r\n\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg form-control-solid\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{simpleValidator.current.message(\r\n\t\t\t\t\t\t\t\t\t\"password\",\r\n\t\t\t\t\t\t\t\t\tuserForm.password,\r\n\t\t\t\t\t\t\t\t\t\"min:8\",\r\n\t\t\t\t\t\t\t\t\t{ messgae: \"password is required\", className: \"text-danger\" }\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<div className=\"fv-plugins-message-container invalid-feedback\"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"row mb-6\">\r\n\t\t\t\t\t\t\t<div className=\"col-1\"></div>\r\n\t\t\t\t\t\t\t<label className=\"col-lg-2 col-md-2 col-sm-4 col-form-label required fw-bold fs-6\">\r\n\t\t\t\t\t\t\t\tRole\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<div className=\"col-lg-9 col-md-9 col-sm-8 fv-row fv-plugins-icon-container\">\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tid=\"role\"\r\n\t\t\t\t\t\t\t\t\tname=\"role\"\r\n\t\t\t\t\t\t\t\t\tvalue={userForm.role}\r\n\t\t\t\t\t\t\t\t\tonChange={handleFormChange}\r\n\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control-lg form-control-solid\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<option value=\"\">Select</option>\r\n\t\t\t\t\t\t\t\t\t<option key=\"1\" value=\"admin\">\r\n\t\t\t\t\t\t\t\t\t\t{CONSTANTS.RESEARCH_ASSISTANT}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t<option key=\"2\" value=\"user\">\r\n\t\t\t\t\t\t\t\t\t\t{CONSTANTS.DATA_COLLECTOR}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t{simpleValidator.current.message(\r\n\t\t\t\t\t\t\t\t\t\"role\",\r\n\t\t\t\t\t\t\t\t\tuserForm.role,\r\n\t\t\t\t\t\t\t\t\t\"required\",\r\n\t\t\t\t\t\t\t\t\t{ messgae: \"Role is required\", className: \"text-danger\" }\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"card-footer d-flex justify-content-end py-6 px-9\">\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\tonClick={(e) => navigate(\"/list-users\")}\r\n\t\t\t\t\t\t\tclassName=\"btn btn-light btn-active-light-primary me-2\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDiscard\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t\tid=\"kt_account_profile_details_submit\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default User;\r\n","export const CONSTANTS = {\r\n\tADMIN: 'admin',\r\n\tUSER: 'user',\r\n\tRESEARCH_ASSISTANT: 'Principal Investigator',\r\n\tDATA_COLLECTOR: 'Data Collector',\r\n};","import axiosInstance from '../../../utils/axios.middleware.js';\r\n\r\nclass City {\r\n\r\n\tstatic listCities = (params) => {\r\n\r\n\t\tlet apiPath = `/api/city/list-cities?_pageNo=${params?._pageNo}&_count=${params?._count}`;\r\n\t\treturn axiosInstance.get(apiPath);\r\n\r\n\t};\r\n\r\n\r\n\tstatic createCity = (form) => {\r\n\r\n\t\tlet apiPath = 'api/city';\r\n\t\treturn axiosInstance.post(apiPath, {\r\n\t\t\t...form\r\n\t\t});\r\n\r\n\t};\r\n\r\n\tstatic deleteCity = ({ id }) => {\r\n\r\n\t\tlet apiPath = `api/city/${id}`;\r\n\t\treturn axiosInstance.delete(apiPath);\r\n\r\n\t};\r\n\r\n}\r\nexport default City;","import City from \"../services/city/city.js\";\r\nimport actionErrorHandler from '../../helpers/actionErrorHandler.js';\r\n\r\nexport const listCities = (params) => {\r\n\treturn City.listCities(params)\r\n\t\t.then((response) => {\r\n\t\t\treturn {\r\n\t\t\t\tstatus: response.status,\r\n\t\t\t\tdata: response.data,\r\n\t\t\t\tmessage: \"success\",\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch((e) => {\r\n\t\t\treturn actionErrorHandler(e);\r\n\t\t});\r\n};\r\n\r\nexport const createCity = (form) => {\r\n\r\n\treturn City.createCity(form).then(response => {\r\n\t\treturn { status: response.status, data: response.data, message: \"Request Success\" };\r\n\t}).catch(e => {\r\n\t\treturn actionErrorHandler(e);\r\n\t});\r\n\r\n};\r\n\r\nexport const deleteCity = ({ id }) => {\r\n\r\n\treturn City.deleteCity({ id }).then(response => {\r\n\t\treturn { status: response.status, data: response.data, message: \"Request Success\" };\r\n\t}).catch(e => {\r\n\t\treturn actionErrorHandler(e);\r\n\t});\r\n\r\n};\r\n"],"names":["simpleValidator","useRef","SimpleReactValidator","navigate","useNavigate","state","useLocation","getUserProfile_c","useUserProfile","USER","useState","updateUserID","cities","setCities","name","cnic","dob","email","phone","gender","role","password","userForm","setUserForm","handleFormChange","event","target","value","current","showMessageFor","prevValue","getUserProfile","Number","response","status","data","toast","error","listCities","_pageNo","_count","warn","updateUser","parseInt","id","success","message","handleFormSubmit","e","preventDefault","allValid","update","showMessages","useEffect","Object","keys","length","toLowerCase","trim","CONSTANTS","_getUserProfile","_getAllCities","useTitle","className","onSubmit","noValidate","disabled","type","placeholder","split","city_id","onChange","map","city","key","messgae","RESEARCH_ASSISTANT","DATA_COLLECTOR","onClick","ADMIN","City","params","apiPath","axiosInstance","get","createCity","form","post","deleteCity","delete","then","catch","actionErrorHandler"],"sourceRoot":""}